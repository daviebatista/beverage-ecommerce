import{j as e,r as d,c as N,R as I,P as y}from"./globals-750fb78f.js";import{N as _,F as S}from"./Footer-a0c5b4e3.js";const f="_section_rem6j_1",b="_whiteInformations_rem6j_12",v="_userDashboard_rem6j_22",w="_userPicture_rem6j_32",E="_userName_rem6j_40",H="_userEmail_rem6j_46",P="_buttons_rem6j_52",D="_shopHistory_rem6j_68",O="_historyTitle_rem6j_82",L="_buyHistory_rem6j_88",T="_changeInfo_rem6j_96",k="_changeInputs_rem6j_103",C="_salesHistory_rem6j_119",s={section:f,whiteInformations:b,userDashboard:v,userPicture:w,userName:E,userEmail:H,buttons:P,shopHistory:D,historyTitle:O,buyHistory:L,changeInfo:T,changeInputs:k,salesHistory:C},J="_historySales_xeaym_1",U={historySales:J};function A({sale:t}){return e.jsxs("div",{className:U.historySales,children:[e.jsxs("p",{children:["VALOR: ",t.totalValue]}),e.jsxs("p",{children:["DIA: ",t.saleDate]})]})}function R(){const t=JSON.parse(localStorage.getItem("registeredUser")).email,o=JSON.parse(localStorage.getItem("registeredUser")).name,p=JSON.parse(localStorage.getItem("registeredUser")).memberSince,c=JSON.parse(localStorage.getItem("shopHistoryData"));JSON.parse(localStorage.getItem("registeredUser")).password;const h=c.map(a=>e.jsx(A,{sale:a}));function g(){localStorage.setItem("isLoggedIn",!1),window.location.reload()}function x(){const a=document.querySelector("#changeNameInput"),i=document.querySelector("#changeEmailInput"),l=document.querySelector("#changePasswordInput"),u=document.querySelector("#updateInfoErrorPopup"),m=document.querySelector("#registerSuccessPopup");let r=JSON.parse(localStorage.getItem("registeredUser"));a.value.length<3||i.value.length<8||l.value.length<8?(u.classList.add("open"),setTimeout(()=>{u.classList.remove("open")},2500)):(m.classList.add("open"),setTimeout(()=>{m.classList.remove("open")},2500),r.name=a.value,r.email=i.value,r.password=l.value,localStorage.setItem("registeredUser",JSON.stringify(r)),n("show"),window.location.reload())}const[j,n]=d.useState("show");return e.jsxs("section",{className:s.section,children:[e.jsx("div",{id:"updateInfoErrorPopup",className:"popup",style:{backgroundColor:"red",padding:"20px",width:"300px",height:"40px",margin:"20px",position:"fixed",bottom:0,left:0},children:e.jsx("p",{className:"popupText",children:"Insira e-mail e nome válidos!"})}),e.jsx("div",{id:"registerSuccessPopup",className:"popup",style:{backgroundColor:"green",padding:"20px",width:"300px",height:"40px",margin:"20px",position:"fixed",bottom:0,left:0},children:e.jsx("p",{className:"popupText",children:"Atualizado com sucesso!"})}),e.jsxs("div",{className:s.whiteInformations,children:[j==="show"?e.jsxs("div",{className:s.userDashboard,children:[e.jsx("img",{src:"https://i.imgur.com/Zfkdt2d.png",alt:"userIcon",className:s.userPicture}),e.jsx("h1",{className:s.userName,children:o}),e.jsx("h1",{className:s.userEmail,children:t}),e.jsxs("h1",{className:s.userEmail,children:["Membro desde: ",e.jsx("br",{}),p]}),e.jsx("button",{className:s.buttons,onClick:()=>n("change"),children:"Alterar Dados"}),e.jsx("button",{className:s.buttons,onClick:a=>{a.preventDefault(),g()},children:"Logout"})]}):e.jsxs("div",{className:s.userDashboard,children:[e.jsx("img",{src:"https://i.imgur.com/Zfkdt2d.png",alt:"userIcon",className:s.userPicture}),e.jsx("p",{className:s.changeInfo,children:"Nome:"}),e.jsx("input",{type:"text",name:"changeNameInput",id:"changeNameInput",className:s.changeInputs}),e.jsx("p",{className:s.changeInfo,children:"Email:"}),e.jsx("input",{type:"text",name:"changeEmailInput",id:"changeEmailInput",className:s.changeInputs}),e.jsx("p",{className:s.changeInfo,children:"Senha:"}),e.jsx("input",{type:"password",name:"changePasswordInput",id:"changePasswordInput",className:s.changeInputs}),e.jsx("button",{className:s.buttons,onClick:()=>{x()},children:"Salvar"}),e.jsx("button",{className:s.buttons,onClick:()=>n("show"),children:"Cancelar"})]}),e.jsxs("div",{className:s.shopHistory,children:[e.jsx("h1",{className:s.historyTitle,children:"Histórico de Compras"}),e.jsx("div",{className:s.buyHistory,children:c.length<1?e.jsx("p",{children:"Você ainda não fez compras! Que tal ver as ofertas?"}):e.jsx("div",{className:s.salesHistory,children:h})})]})]})]})}JSON.parse(localStorage.getItem("isLoggedIn"))===!0||window.location.replace("/beverage-ecommerce/");function q(){const[t,o]=d.useState(!0);return t?(setTimeout(()=>{o(!1)},500),e.jsx(y,{})):e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsx(R,{}),e.jsx(S,{})]})}N.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsx(q,{})}));
